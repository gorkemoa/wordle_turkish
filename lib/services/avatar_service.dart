import 'dart:math';

class AvatarService {
  static final List<String> _safeEmojis = [
    // Hayvanlar
    'ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¼', 'ğŸ¨', 'ğŸ¯', 'ğŸ¦', 'ğŸ®', 'ğŸ·', 'ğŸ¸', 'ğŸµ',
    'ğŸ§', 'ğŸ¦', 'ğŸ¤', 'ğŸ£', 'ğŸ¥', 'ğŸ¦†', 'ğŸ¦…', 'ğŸ¦‰', 'ğŸ¦‡', 'ğŸº', 'ğŸ—', 'ğŸ´', 'ğŸ¦„', 'ğŸ', 'ğŸ›',
    'ğŸ¦‹', 'ğŸŒ', 'ğŸ', 'ğŸœ', 'ğŸ¦—', 'ğŸ•·', 'ğŸ¦‚', 'ğŸ¢', 'ğŸ', 'ğŸ¦', 'ğŸ¦–', 'ğŸ¦•', 'ğŸ™', 'ğŸ¦‘', 'ğŸ¦',
    'ğŸ¦', 'ğŸ¦€', 'ğŸ¡', 'ğŸ ', 'ğŸŸ', 'ğŸ¬', 'ğŸ³', 'ğŸ‹', 'ğŸ¦ˆ', 'ğŸŠ', 'ğŸ…', 'ğŸ†', 'ğŸ¦“', 'ğŸ¦', 'ğŸ¦§',
    
    // Yiyecek ve Ä°Ã§ecek
    'ğŸ', 'ğŸŠ', 'ğŸ‹', 'ğŸŒ', 'ğŸ‰', 'ğŸ‡', 'ğŸ“', 'ğŸˆ', 'ğŸ’', 'ğŸ‘', 'ğŸ¥­', 'ğŸ', 'ğŸ¥¥', 'ğŸ¥', 'ğŸ…',
    'ğŸ†', 'ğŸ¥‘', 'ğŸ¥¦', 'ğŸ¥¬', 'ğŸ¥’', 'ğŸŒ¶', 'ğŸŒ½', 'ğŸ¥•', 'ğŸ§„', 'ğŸ§…', 'ğŸ¥”', 'ğŸ ', 'ğŸ¥', 'ğŸ¥–', 'ğŸ',
    'ğŸ¥¨', 'ğŸ§€', 'ğŸ¥š', 'ğŸ³', 'ğŸ§ˆ', 'ğŸ¥', 'ğŸ§‡', 'ğŸ¥“', 'ğŸ¥©', 'ğŸ—', 'ğŸ–', 'ğŸŒ­', 'ğŸ”', 'ğŸŸ', 'ğŸ•',
    'ğŸ¥ª', 'ğŸ¥™', 'ğŸ§†', 'ğŸŒ®', 'ğŸŒ¯', 'ğŸ¥—', 'ğŸ¥˜', 'ğŸ', 'ğŸœ', 'ğŸ²', 'ğŸ›', 'ğŸ£', 'ğŸ±', 'ğŸ¥Ÿ', 'ğŸ¦ª',
    'ğŸ¤', 'ğŸ™', 'ğŸš', 'ğŸ˜', 'ğŸ¥', 'ğŸ¥ ', 'ğŸ¥®', 'ğŸ¢', 'ğŸ¡', 'ğŸ§', 'ğŸ¨', 'ğŸ¦', 'ğŸ¥§', 'ğŸ§', 'ğŸ°',
    'ğŸ‚', 'ğŸ®', 'ğŸ­', 'ğŸ¬', 'ğŸ«', 'ğŸ¿', 'ğŸ©', 'ğŸª', 'ğŸŒ°', 'ğŸ¥œ', 'ğŸ¯', 'ğŸ¥›', 'â˜•', 'ğŸµ', 'ğŸ§ƒ',
    
    // Aktiviteler ve Sporlar
    'âš½', 'ğŸ€', 'ğŸˆ', 'âš¾', 'ğŸ¥', 'ğŸ¾', 'ğŸ', 'ğŸ‰', 'ğŸ±', 'ğŸ“', 'ğŸ¸', 'ğŸ’', 'ğŸ‘', 'ğŸ¥', 'ğŸ',
    'ğŸ¥…', 'â›³', 'ğŸª', 'ğŸ¹', 'ğŸ£', 'ğŸ¤¿', 'ğŸ¥Š', 'ğŸ¥‹', 'ğŸ½', 'ğŸ›¹', 'ğŸ›·', 'â›¸', 'ğŸ¥Œ', 'ğŸ¿', 'â›·',
    'ğŸ‚', 'ğŸª‚', 'ğŸ‹', 'ğŸ¤¸', 'ğŸ¤º', 'ğŸ¤¾', 'ğŸŒ', 'ğŸ‡', 'ğŸ§˜', 'ğŸƒ', 'ğŸš´', 'ğŸŠ', 'ğŸ§—', 'ğŸ¤¹',
    
    // MÃ¼zik ve Sanat
    'ğŸ¹', 'ğŸ¥', 'ğŸ·', 'ğŸº', 'ğŸ¸', 'ğŸª•', 'ğŸ»', 'ğŸ¤', 'ğŸ§', 'ğŸ¼', 'ğŸµ', 'ğŸ¶', 'ğŸ¨', 'ğŸ–Œ', 'ğŸ–',
    'ğŸ“·', 'ğŸ“¸', 'ğŸ­', 'ğŸª', 'ğŸ¨', 'ğŸ¬', 'ğŸ¯', 'ğŸ²', 'ğŸ§©', 'ğŸ®', 'ğŸ•¹', 'ğŸ°', 'ğŸ³',
    
    // DoÄŸa ve Hava Durumu
    'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ•', 'ğŸŒ–', 'ğŸŒ—', 'ğŸŒ˜', 'ğŸŒ‘', 'ğŸŒ’', 'ğŸŒ“', 'ğŸŒ”', 'â­', 'ğŸŒŸ', 'âœ¨', 'âš¡',
    'â˜„', 'ğŸ’«', 'ğŸŒ™', 'â˜€', 'ğŸŒ¤', 'â›…', 'ğŸŒ¦', 'ğŸŒ§', 'â›ˆ', 'ğŸŒ©', 'ğŸŒ¨', 'â„', 'â˜ƒ', 'â›„', 'ğŸŒ¬',
    'ğŸ’¨', 'ğŸŒª', 'ğŸŒˆ', 'â˜”', 'ğŸ’§', 'ğŸ’¦', 'ğŸŒŠ', 'ğŸ”¥', 'ğŸ’¥', 'ğŸŒ‹', 'ğŸ”', 'â›°', 'ğŸ—»', 'ğŸ•', 'ğŸ–',
    'ğŸœ', 'ğŸ', 'ğŸŒ³', 'ğŸŒ²', 'ğŸŒ´', 'ğŸŒ±', 'ğŸŒ¿', 'â˜˜', 'ğŸ€', 'ğŸ', 'ğŸ‹', 'ğŸƒ', 'ğŸŒ¾', 'ğŸŒº', 'ğŸŒ»',
    'ğŸŒ¸', 'ğŸŒ¼', 'ğŸŒ·', 'ğŸ¥€', 'ğŸŒ¹', 'ğŸµ', 'ğŸ’', 'ğŸŒµ', 'ğŸ„', 'ğŸŒ°', 'ğŸš', 'ğŸª¨',
    
    // Nesneler ve Teknoloji
    'âŒš', 'ğŸ“±', 'ğŸ’»', 'âŒ¨', 'ğŸ–¥', 'ğŸ–¨', 'ğŸ–±', 'ğŸ’½', 'ğŸ’¾', 'ğŸ’¿', 'ğŸ“€', 'ğŸ“¼', 'ğŸ“·', 'ğŸ“¸', 'ğŸ“¹',
    'ğŸ¥', 'ğŸ“', 'â˜', 'ğŸ“Ÿ', 'ğŸ“ ', 'ğŸ“º', 'ğŸ“»', 'ğŸ™', 'ğŸš', 'ğŸ›', 'ğŸ§­', 'â°', 'â²', 'â±', 'ğŸ•°',
    'â³', 'âŒ›', 'ğŸ“¡', 'ğŸ”®', 'ğŸª„', 'ğŸ“¿', 'ğŸ§¿', 'ğŸ“‹', 'ğŸ“Œ', 'ğŸ“', 'ğŸ“', 'ğŸ–‡', 'ğŸ“', 'ğŸ“', 'âœ‚',
    'ğŸ—ƒ', 'ğŸ—‚', 'ğŸ—', 'ğŸ“°', 'ğŸ“‘', 'ğŸ”–', 'ğŸ“Š', 'ğŸ“ˆ', 'ğŸ“‰', 'ğŸ“œ', 'ğŸ“‹', 'ğŸ“…', 'ğŸ“†', 'ğŸ—“', 'ğŸ“‡',
    'ğŸ—³', 'ğŸ”', 'ğŸ”’', 'ğŸ”“', 'ğŸ”', 'ğŸ”', 'ğŸ—', 'ğŸ”¨', 'ğŸª“', 'â›', 'âš’', 'ğŸ› ', 'ğŸ—¡', 'âš”', 'ğŸ’£',
    'ğŸªƒ', 'ğŸ¹', 'ğŸ›¡', 'ğŸªš', 'ğŸ”§', 'ğŸª›', 'ğŸ”©', 'âš™', 'ğŸ—œ', 'âš–', 'ğŸ¦¯', 'ğŸ”—', 'â›“', 'ğŸª', 'ğŸ§°',
    'ğŸ§²', 'ğŸªœ', 'ğŸª£', 'ğŸª ', 'ğŸªŸ', 'ğŸª', 'ğŸª‘', 'ğŸª†', 'ğŸ', 'ğŸ€', 'ğŸŠ', 'ğŸ‰', 'ğŸˆ', 'ğŸ‚', 'ğŸƒ',
    
    // Geometrik Åekiller ve Simgeler
    'ğŸ”´', 'ğŸŸ ', 'ğŸŸ¡', 'ğŸŸ¢', 'ğŸ”µ', 'ğŸŸ£', 'ğŸŸ¤', 'âš«', 'âšª', 'ğŸŸ¥', 'ğŸŸ§', 'ğŸŸ¨', 'ğŸŸ©', 'ğŸŸ¦', 'ğŸŸª',
    'â¬›', 'â¬œ', 'â—¼', 'â—»', 'â—¾', 'â—½', 'â–ª', 'â–«', 'ğŸ”¶', 'ğŸ”·', 'ğŸ”¸', 'ğŸ”¹', 'ğŸ”º', 'ğŸ”»', 'ğŸ’ ', 'ğŸ”˜',
    'ğŸ”³', 'ğŸ”²', 'ğŸ', 'ğŸš©', 'ğŸŒ', 'ğŸ´', 'ğŸ³', 'ğŸ´â€â˜ ï¸', 'ğŸ¤', 'ğŸ¤', 'ğŸ’œ', 'ğŸ’™', 'ğŸ’š', 'ğŸ’›', 'ğŸ§¡', 'â¤',
    
    // Mesleki ve Simgesel
    'ğŸ‘¨â€ğŸ’»', 'ğŸ‘©â€ğŸ’»', 'ğŸ‘¨â€ğŸ”¬', 'ğŸ‘©â€ğŸ”¬', 'ğŸ‘¨â€ğŸ¨', 'ğŸ‘©â€ğŸ¨', 'ğŸ‘¨â€ğŸ³', 'ğŸ‘©â€ğŸ³', 'ğŸ‘¨â€ğŸŒ¾', 'ğŸ‘©â€ğŸŒ¾',
    'ğŸ‘¨â€âš•ï¸', 'ğŸ‘©â€âš•ï¸', 'ğŸ‘¨â€ğŸ«', 'ğŸ‘©â€ğŸ«', 'ğŸ‘¨â€ğŸ“', 'ğŸ‘©â€ğŸ“', 'ğŸ‘¨â€ğŸ’¼', 'ğŸ‘©â€ğŸ’¼', 'ğŸ‘¨â€ğŸ”§', 'ğŸ‘©â€ğŸ”§',
    'ğŸ‘¨â€ğŸš€', 'ğŸ‘©â€ğŸš€', 'ğŸ‘¨â€ğŸš’', 'ğŸ‘©â€ğŸš’', 'ğŸ‘®â€â™‚ï¸', 'ğŸ‘®â€â™€ï¸', 'ğŸ•µâ€â™‚ï¸', 'ğŸ•µâ€â™€ï¸', 'ğŸ‘¨â€âš–ï¸', 'ğŸ‘©â€âš–ï¸',
    
    // DiÄŸer GÃ¼venli Simgeler
    'ğŸ¯', 'ğŸ²', 'ğŸ§©', 'ğŸ®', 'ğŸ•¹', 'ğŸ°', 'ğŸ³', 'ğŸª', 'ğŸ­', 'ğŸ¨', 'ğŸ¬', 'ğŸ¤', 'ğŸ§', 'ğŸ¼', 'ğŸµ',
    'ğŸ¶', 'ğŸ“š', 'ğŸ“–', 'ğŸ“', 'âœ', 'ğŸ–Š', 'ğŸ–‹', 'ğŸ–Œ', 'ğŸ–', 'ğŸ“', 'ğŸ“', 'ğŸ§®', 'ğŸ”¬', 'ğŸ”­', 'ğŸ“¡',
    'ğŸ’', 'âš—', 'ğŸ§ª', 'ğŸ§«', 'ğŸ§¬', 'ğŸ”¬', 'ğŸ”­', 'ğŸ“¡', 'ğŸ’‰', 'ğŸ©¹', 'ğŸ©º', 'ğŸ’Š', 'ğŸ’‰', 'ğŸŒ¡', 'ğŸ§»',
    'ğŸª’', 'ğŸ§´', 'ğŸ§½', 'ğŸª£', 'ğŸ§¹', 'ğŸ§º', 'ğŸ”Œ', 'ğŸ’¡', 'ğŸ•¯', 'ğŸª”', 'ğŸ§¯', 'âš—', 'ğŸ”¬', 'ğŸ’ˆ', 'âš–',
  ];

  static final Random _random = Random();

  /// KullanÄ±cÄ± ID'sine gÃ¶re deterministik avatar oluÅŸtur
  static String generateAvatar(String userId) {
    // UserId'nin hash'ini kullanarak deterministic random
    int seed = userId.hashCode;
    Random deterministicRandom = Random(seed);
    
    int index = deterministicRandom.nextInt(_safeEmojis.length);
    return _safeEmojis[index];
  }

  /// Tamamen rastgele avatar oluÅŸtur
  static String getRandomAvatar() {
    return _safeEmojis[_random.nextInt(_safeEmojis.length)];
  }

  /// Mevcut avatarÄ± deÄŸiÅŸtir (yeni rastgele avatar)
  static String changeAvatar([String? currentAvatar]) {
    String newAvatar;
    do {
      newAvatar = getRandomAvatar();
    } while (newAvatar == currentAvatar && _safeEmojis.length > 1);
    
    return newAvatar;
  }

  /// TÃ¼m mevcut avatarlarÄ± al
  static List<String> getAllAvatars() {
    return List.from(_safeEmojis);
  }

  /// Avatar'Ä±n geÃ§erli olup olmadÄ±ÄŸÄ±nÄ± kontrol et
  static bool isValidAvatar(String avatar) {
    return _safeEmojis.contains(avatar);
  }

  /// Kategori bazÄ±nda avatar al
  static List<String> getAvatarsByCategory(AvatarCategory category) {
    switch (category) {
      case AvatarCategory.animals:
        return _safeEmojis.sublist(0, 54);
      case AvatarCategory.food:
        return _safeEmojis.sublist(54, 135);
      case AvatarCategory.sports:
        return _safeEmojis.sublist(135, 170);
      case AvatarCategory.music:
        return _safeEmojis.sublist(170, 195);
      case AvatarCategory.nature:
        return _safeEmojis.sublist(195, 270);
      case AvatarCategory.objects:
        return _safeEmojis.sublist(270, 350);
      case AvatarCategory.shapes:
        return _safeEmojis.sublist(350, 380);
      case AvatarCategory.professions:
        return _safeEmojis.sublist(380, 400);
      case AvatarCategory.symbols:
        return _safeEmojis.sublist(400, _safeEmojis.length);
      default:
        return _safeEmojis;
    }
  }
}

enum AvatarCategory {
  animals,
  food,
  sports,
  music,
  nature,
  objects,
  shapes,
  professions,
  symbols,
  all,
} 